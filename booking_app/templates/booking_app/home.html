{% extends 'booking_app/base.html' %}

{% block content %}

<div class="coffee-hero d-flex flex-column flex-md-row align-items-start align-items-md-center gap-4">
  <div>
    <div class="tag-pill mb-3">
      ☕ World coffee, one table
    </div>
    <h1>Welcome to Café Central – Global Roast House</h1>
    <p>
      From Ethiopian highlands to Brooklyn rooftops, we roast and pour coffees from around the world.
      Reserve your spot, choose your party size, and we’ll handle the rest.
    </p>
  </div>
  <div class="ms-md-auto">
    <div class="text-end text-md-start">
      <div class="fw-semibold">Open today</div>
      <div>08:00 – 20:00</div>
      <div class="mt-2 small text-muted">Walk-ins welcome, bookings recommended at busy times.</div>
    </div>
  </div>
</div>

{% if messages %}
  {% for message in messages %}
    <div class="alert alert-success shadow-sm p-3 my-3" role="alert" style="border-left: 5px solid #7a4b17;">
      <strong>Your booking is confirmed!</strong><br>
      {{ message }}
      <br>
      <span class="small text-muted">Keep your booking code safe – you'll need it if you want to cancel.</span>
    </div>
  {% endfor %}
{% endif %}

<div class="row g-4">
  <div class="col-lg-5 order-2 order-lg-1">
    <h2 class="h4 mb-3">Book a table</h2>
    <div class="card booking-card p-3">
      <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}

        {% for field in form %}
          <div class="mb-3">
            <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.help_text %}
              <div class="form-text">{{ field.help_text }}</div>
            {% endif %}
            {% for error in field.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
        {% endfor %}

        <button class="btn btn-coffee-primary w-100" type="submit">
          Confirm Booking
        </button>
      </form>
    </div>
    <p class="small text-muted mt-2">
      Note: We’ll email your booking details to the address you provide.
    </p>
  </div>

  <div class="col-lg-7 order-1 order-lg-2">
    <h2 class="h4 mb-3">Our coffee & bites</h2>
    <div class="card menu-card p-3">
      {% if menu_items %}
        <ul class="list-group list-group-flush">
          {% for item in menu_items %}
            <li class="list-group-item d-flex justify-content-between align-items-start">
              <div>
                <div class="menu-item-name">{{ item.name }}</div>
                {% if item.description %}
                  <div class="small text-muted">{{ item.description }}</div>
                {% endif %}
              </div>
              <div class="menu-price">
                £{{ item.price }}
              </div>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="mb-0">Our menu is being updated. Please check back soon.</p>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}
